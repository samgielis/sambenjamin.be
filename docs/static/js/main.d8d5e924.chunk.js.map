{"version":3,"sources":["components/util/URLUtils.tsx","components/model/Story.tsx","components/util/Utils.tsx","components/shared/StoryDate.tsx","components/pages/home/children/StoryGrid.tsx","components/pages/home/HomePage.tsx","components/pages/story/children/StoryCover.tsx","components/pages/story/children/PhotoWrapper.tsx","components/pages/story/children/PhotoSet.tsx","components/pages/story/children/TagSet.tsx","components/pages/story/children/StoryDescription.tsx","components/pages/story/StoryPage.tsx","components/pages/tags/TagPage.tsx","components/Footer.tsx","components/ScrollToTop.tsx","App.tsx","index.tsx","components/model/Author.tsx"],"names":["getLinkForTag","tag","makeURL","partialURL","getStoryID","story","title","replace","split","join","toLowerCase","getStoryCoverImageURL","downloadJSON","fileName","fetch","then","response","json","trackPageView","url","ReactGA","pageview","StoryDate","props","date","Date","className","month","getMonth","getNameOfMonth","getDate","d","getDateOrdinal","getFullYear","compareStoriesMostRecentFirst","a","b","StoryGrid","cols","stories","sort","map","index","StoryThumbnail","key","rows","i","length","thumbnailsInRow","push","Row","Container","fluid","style","maxWidth","alignSelf","margin","padding","Col","md","to","backgroundImage","subTitle","HomePage","document","window","location","pathname","search","textAlign","width","alt","src","this","author","name","Button","href","variant","React","Component","StoryCover","titles","instaHandle","PhotoWrapperClass","imageUrl","arrayBuffer","urlObject","URL","createObjectURL","Blob","tags","ExifReader","load","setState","imageBlobURL","focalLength","description","aperture","shutterSpeed","iso","error","console","loadImage","state","height","backgroundColor","Number","parseFloat","PhotoSet","photos","layout","iL","iP","amountOfPhotosInRow","columns","photoInRow","row","TagSet","Tag","value","StoryDescription","StoryPage","TagPage","log","Footer","ScrollToTop","scrollTo","children","withRouter","App","hasFullyLoaded","storyIndex","storyID","redirecter","redirectParameter","URLSearchParams","get","basename","id","storyRoutes","tagRoutes","path","flat","storiesWithTag","filter","includes","initialize","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d8d5e924.chunk.js","sourcesContent":["export function getLinkForTag(tag: string): string {\r\n    return `/does/${tag}/`;\r\n}\r\n\r\nexport function makeURL(partialURL: string): string {\r\n    let base = \"/\";\r\n    return base + partialURL;\r\n}","import { Photo } from \"./Photo\";\r\nimport { makeURL } from \"../util/URLUtils\";\r\n\r\nexport type StoryIndex = {\r\n    stories: string[]\r\n}\r\n\r\nexport type Story = {\r\n    title: string,\r\n    subTitle?: string,\r\n    description?: string,\r\n    instaHandle?: string,\r\n    date: string,\r\n    photos: Photo[],\r\n    layout: number[],\r\n    tags?: string[]\r\n}\r\n\r\nexport function getStoryID(story: Story): string {\r\n    return story.title.replace(\"&\", \"and\").split(\" \").join(\"-\").toLowerCase();\r\n}\r\n\r\nexport function getStoryCoverImageURL(story: Story): string {\r\n    return makeURL(`stories/${getStoryID(story)}/cover.jpg`);\r\n}","import ReactGA from 'react-ga';\r\n\r\nexport function downloadJSON(fileName: string): Promise<any> {\r\n    return fetch(fileName).then((response) => {\r\n        return response.json();\r\n    });\r\n}\r\n\r\nexport function getNameOfMonth(date: Date): string {\r\n    let month = [];\r\n    month[0] = \"January\";\r\n    month[1] = \"February\";\r\n    month[2] = \"March\";\r\n    month[3] = \"April\";\r\n    month[4] = \"May\";\r\n    month[5] = \"June\";\r\n    month[6] = \"July\";\r\n    month[7] = \"August\";\r\n    month[8] = \"September\";\r\n    month[9] = \"October\";\r\n    month[10] = \"November\";\r\n    month[11] = \"December\";\r\n    return month[date.getMonth()];\r\n}\r\n\r\nexport function getDateOrdinal(date: Date): string {\r\n    const d = date.getDate();\r\n    if (d > 3 && d < 21) return 'th';\r\n    switch (d % 10) {\r\n        case 1: return \"st\";\r\n        case 2: return \"nd\";\r\n        case 3: return \"rd\";\r\n        default: return \"th\";\r\n    }\r\n}\r\n\r\nexport function trackPageView(url: string) {\r\n    if (process.env.NODE_ENV === 'production') {\r\n        ReactGA.pageview(url);\r\n    }\r\n}","import { getNameOfMonth, getDateOrdinal } from \"../util/Utils\";\r\nimport React from 'react';\r\nimport './StoryDate.css'\r\n\r\ntype StoryDateProps = {\r\n    date: string\r\n}\r\n\r\nexport function StoryDate(props: StoryDateProps) {\r\n    const date = new Date(props.date);\r\n    return <div className=\"story-date\">\r\n        {getNameOfMonth(date)} {date.getDate()}<sup>{getDateOrdinal(date)}</sup>, <span>{date.getFullYear()}</span>\r\n    </div>\r\n}","import React from 'react';\r\nimport { Story, getStoryCoverImageURL, getStoryID } from \"../../../model/Story\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\nimport './StoryGrid.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { StoryDate } from '../../../shared/StoryDate';\r\n\r\nfunction compareStoriesMostRecentFirst(a: Story, b: Story): number {\r\n    if (a.date > b.date) {\r\n        return -1;\r\n    }\r\n    if (b.date > a.date) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nexport type StoryGridProps = {\r\n    stories: Story[]\r\n}\r\n\r\nexport function StoryGrid(props: StoryGridProps) {\r\n    const cols = props.stories.sort(compareStoriesMostRecentFirst).map((story: Story, index: number) => {\r\n        return <StoryThumbnail key={index} story={story} />;\r\n    });\r\n\r\n    const rows = [];\r\n    for (let i = 0; i < cols.length; i+=3) {\r\n        const thumbnailsInRow =[];\r\n        thumbnailsInRow.push(<StoryThumbnail key={i} story={props.stories[i]} />)\r\n        thumbnailsInRow.push(<StoryThumbnail key={i+1} story={props.stories[i+1]} />)\r\n        thumbnailsInRow.push(<StoryThumbnail key={i+2} story={props.stories[i+2]} />)\r\n        //const colsInRow = [cols[i], cols[i + 1], cols[i + 2]].filter((value) => { return value !== undefined });\r\n        rows.push(<Row key={i}>{thumbnailsInRow}</Row>);\r\n    }\r\n\r\n    return (\r\n        <Container fluid=\"md\" style={{maxWidth: \"1500px\", alignSelf: \"center\", margin: \"auto\", padding: \"1rem\"}}>\r\n            {rows}\r\n        </Container>\r\n    );\r\n}\r\n\r\ntype StoryThumbnailProps = {\r\n    story?: Story\r\n}\r\n\r\nfunction StoryThumbnail(props: StoryThumbnailProps) {\r\n    if (!props.story) {\r\n        return <Col md={4} className={\"story-thumbnail-wrapper\"}>\r\n            <div className={\"story-thumbnail empty\"}></div>\r\n        </Col>\r\n    }\r\n\r\n    return <Col md={4} className={\"story-thumbnail-wrapper\"}>\r\n        <article>\r\n            <Link to={`/${getStoryID(props.story)}`}>\r\n                <div className={\"story-thumbnail\"}>\r\n                    <div className=\"story-thumbnail-image\" style={{ backgroundImage: `url(${getStoryCoverImageURL(props.story)}) ` }}></div>\r\n                    <div className=\"story-thumbnail-gradient\" ></div>\r\n                    <div className=\"story-thumbnail-description\">\r\n                        <h2>\r\n                            <Link to={`/${getStoryID(props.story)}`}>{props.story.title}</Link>\r\n                        </h2>\r\n                        <h3>\r\n                            {props.story.subTitle || \"See more\"}\r\n                        </h3>\r\n                        <StoryDate date={props.story.date} />\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </article>\r\n    </Col>\r\n}","import React from 'react';\r\nimport { Story } from '../../model/Story';\r\nimport { StoryGrid } from './children/StoryGrid';\r\nimport { Author } from '../../model/Author';\r\nimport './HomePage.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { Container, Button } from 'react-bootstrap';\r\nimport { trackPageView } from '../../util/Utils';\r\nimport { makeURL } from '../../util/URLUtils';\r\n\r\nexport type HomePageProps = {\r\n    stories: Story[];\r\n    author: Author;\r\n}\r\n\r\nexport class HomePage extends React.Component<HomePageProps, {}> {\r\n\r\n    componentDidMount() {\r\n        document.title = 'Home - sambenjamin.be';\r\n        trackPageView(window.location.pathname + window.location.search);\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"homepage\">\r\n            <Container style={{ textAlign: \"center\", padding: \"1rem\" }}>\r\n                <p><Link to={\"/\"}>\r\n                    <img width=\"150px\" alt=\"Author portrait\" src={makeURL(\"profile.png\")}></img>\r\n                </Link></p>\r\n                <h1>{this.props.author.name}</h1>\r\n                <Button href={this.props.author.url} variant=\"outline-dark\">Follow @samgielis</Button>\r\n            </Container>\r\n\r\n            <StoryGrid stories={this.props.stories}></StoryGrid>\r\n        </div>\r\n    }\r\n}","import React from 'react';\r\nimport { Story, getStoryCoverImageURL } from \"../../../model/Story\";\r\nimport { Author } from \"../../../model/Author\";\r\nimport { Container, Button } from 'react-bootstrap';\r\nimport './StoryCover.css';\r\nimport { Link } from 'react-router-dom';\r\nimport {StoryDate} from \"../../../shared/StoryDate\";\r\n\r\nexport type StoryCoverProps = {\r\n    story: Story,\r\n    author: Author\r\n}\r\n\r\nexport function StoryCover(props: StoryCoverProps) {\r\n    const titles = [];\r\n    titles.push(<h1>{props.story.title}</h1>);\r\n\r\n    if (props.story.subTitle) {\r\n        titles.push(<h2>{props.story.subTitle}</h2>);\r\n    }\r\n\r\n    if (props.story.instaHandle) {\r\n        titles.push(\r\n            <Button variant=\"outline-light\" href={`https://instagram.com/${props.story.instaHandle}`}>\r\n                @{props.story.instaHandle}\r\n            </Button>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"story-cover\">\r\n\r\n            <Container className=\"d-flex flex-column align-items-center \">\r\n                <div className=\"cover-photo\" style={{ backgroundImage: `url(\"${getStoryCoverImageURL(props.story)}\")` }}>\r\n                </div>\r\n                <div className=\"story-title-wrapper align-self-center align-items-center\">\r\n                    {titles}\r\n                </div>\r\n                <div className=\"author-details\">\r\n                    <div>\r\n                        <span>By <Link className=\"author-name\" to={'/'}>{props.author.name}</Link></span>\r\n                    </div>\r\n                    <StoryDate date={props.story.date}></StoryDate>\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport ExifReader from 'exifreader';\r\nimport \"./PhotoWrapper.css\";\r\n\r\ntype PhotoWrapperProps = {\r\n    imageUrl: string,\r\n    alt: string\r\n}\r\n\r\ntype PhotoWrapperState = {\r\n    imageBlobURL: string | undefined\r\n    focalLength: string | undefined\r\n    aperture: string | undefined\r\n    shutterSpeed: string | undefined\r\n    iso: string | undefined\r\n}\r\n\r\nexport class PhotoWrapperClass extends React.Component<PhotoWrapperProps, PhotoWrapperState> {\r\n\r\n    loadImage() {\r\n        fetch(this.props.imageUrl)\r\n            .then((response) => { return response.arrayBuffer() })\r\n            .then((arrayBuffer) => {\r\n                try {\r\n                    const urlObject = URL.createObjectURL(new Blob([arrayBuffer]));\r\n                    const tags = ExifReader.load(arrayBuffer);\r\n                this.setState({\r\n                    imageBlobURL: urlObject,\r\n                    focalLength: tags[\"FocalLength\"]?.description,\r\n                    aperture: tags[\"ApertureValue\"]?.description,\r\n                    shutterSpeed: tags[\"ShutterSpeedValue\"]?.description,\r\n                    iso: tags[\"ISOSpeedRatings\"]?.description\r\n                });\r\n                } catch (error) {\r\n                    console.error(\"Error parsing \"+ this.props.imageUrl);\r\n                } \r\n            });\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.setState({});\r\n        this.loadImage()\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.imageBlobURL) {\r\n            return <div style={{ width: \"100%\", height: \"500px\", backgroundColor: \"whitesmoke\" }}></div>\r\n        }\r\n\r\n        const focalLength = this.state.focalLength?.replace(/ /g, '') || \"unknown\";\r\n        const aperture = Number.parseFloat(this.state.aperture || \"NaN\");\r\n        \r\n        return <div className=\"photo-wrapper\">\r\n            <img src={this.state.imageBlobURL} alt={this.props.alt}></img>\r\n            <div className='photo-details'>\r\n                <p>{focalLength} f/{aperture} {this.state.shutterSpeed}s ISO{this.state.iso}</p>\r\n            </div>\r\n        </div>\r\n    }\r\n}","import React from \"react\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport \"./PhotoSet.css\"\r\nimport { getStoryID, Story } from \"../../../model/Story\";\r\nimport {PhotoWrapperClass} from \"./PhotoWrapper\";\r\nimport { makeURL } from \"../../../util/URLUtils\";\r\n\r\ntype PhotoSetProps = {\r\n    story: Story;\r\n}\r\n\r\nexport function PhotoSet(props: PhotoSetProps) {\r\n    const photos = props.story.photos;\r\n    const layout = props.story.layout;\r\n    const rows = [];\r\n\r\n    for (let iL = 0, iP = 0; iL < layout.length; iL++) {\r\n        const amountOfPhotosInRow = layout[iL];\r\n        const columns = [];\r\n        for (let photoInRow = 0; photoInRow < amountOfPhotosInRow; photoInRow++, iP++) {\r\n            columns.push(\r\n                <Col key={iP} md={12 / amountOfPhotosInRow}>\r\n                    <PhotoWrapperClass imageUrl={makeURL(`stories/${getStoryID(props.story)}/${photos[iP].fileName}`)} alt={photos[iP].fileName}></PhotoWrapperClass>\r\n                </Col>\r\n            );\r\n        }\r\n        const row = <Row>{columns}</Row>;\r\n        rows.push(row);\r\n    }\r\n    return <Container fluid={true} className=\"photoset\">\r\n        {rows}\r\n    </Container>\r\n}","import React from \"react\";\r\nimport { Container, Button } from \"react-bootstrap\";\r\nimport \"./TagSet.css\"\r\nimport { getLinkForTag } from \"../../../util/URLUtils\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ntype TagSetProps = {\r\n    tags: string[];\r\n}\r\n\r\nexport function TagSet(props: TagSetProps) {\r\n    return <Container fluid={true} className=\"photoset tagset\">\r\n            {props.tags.map((tag) => { return <Tag value={tag}></Tag> })}\r\n    </Container>\r\n}\r\n\r\ntype TagProps = {\r\n    value: string\r\n}\r\n\r\nfunction Tag(props: TagProps) {\r\n    return <Link to={getLinkForTag(props.value)}>\r\n        <Button className={\"tag\"} variant=\"secondary\">#{props.value}</Button>\r\n    </Link>;\r\n    //return <Button className={\"tag\"} variant=\"secondary\" href={getLinkForTag(props.value)}>#{props.value}</Button>\r\n}","import React from 'react';\r\nimport { Story } from \"../../../model/Story\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport \"./StoryDescription.css\";\r\n\r\nexport type StoryDescriptionProps = {\r\n    story: Story,\r\n}\r\n\r\nexport function StoryDescription(props: StoryDescriptionProps) {\r\n\r\n    if (!props.story.description) {\r\n        return <div></div>;\r\n    }\r\n\r\n    return <Container className=\"story-description\">\r\n        <Row>\r\n            <Col md={12}>\r\n                <p>\r\n                    {props.story.description}\r\n                </p>\r\n            </Col>\r\n        </Row>\r\n    </Container>\r\n}","import React from 'react';\r\nimport { Story } from \"../../model/Story\";\r\nimport { StoryCover } from \"./children/StoryCover\";\r\nimport { Author } from \"../../model/Author\";\r\nimport { PhotoSet } from './children/PhotoSet';\r\nimport { TagSet } from './children/TagSet';\r\nimport { StoryDescription } from './children/StoryDescription';\r\nimport { trackPageView } from '../../util/Utils';\r\n\r\nexport type StoryPageProps = {\r\n  story: Story;\r\n  author: Author;\r\n}\r\n\r\nclass StoryPage extends React.Component<StoryPageProps, {}> {\r\n\r\n  componentDidMount() {\r\n    document.title = `${this.props.story.title} by ${this.props.author.name} - sambenjamin.be`;\r\n    trackPageView(window.location.pathname + window.location.search);\r\n  }\r\n\r\n  render() {\r\n    return <div className='story-page' >\r\n      <StoryCover story={this.props.story} author={this.props.author}></StoryCover>\r\n      <StoryDescription story={this.props.story}></StoryDescription>\r\n      <PhotoSet story={this.props.story}></PhotoSet>\r\n      <TagSet tags={this.props.story.tags || []}></TagSet>\r\n    </div>;\r\n  }\r\n}\r\nexport default StoryPage;","import React from 'react';\r\nimport { Story } from '../../model/Story';\r\nimport { Container } from 'react-bootstrap';\r\nimport { StoryGrid } from '../home/children/StoryGrid';\r\nimport { FaArrowLeft } from 'react-icons/fa';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./TagPage.css\";\r\nimport { trackPageView } from '../../util/Utils';\r\n\r\nexport type TagPageProps = {\r\n  tag: string\r\n  stories: Story[]\r\n}\r\n\r\nclass TagPage extends React.Component<TagPageProps, {}> {\r\n\r\n  constructor(props: TagPageProps) {\r\n    super(props);\r\n    console.log('making tagpae');\r\n  }\r\n  componentDidMount() {\r\n    document.title = `Stories tagged #${this.props.tag} - sambenjamin.be`;\r\n    trackPageView(window.location.pathname + window.location.search);\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"homepage\">\r\n            <Container style={{ textAlign: \"center\", padding: \"1rem\" }}>\r\n                <h1>#{this.props.tag}</h1>\r\n                <br></br>\r\n                <h4> <Link className=\"go-home\" to=\"/\"><FaArrowLeft /> See more stories</Link></h4>\r\n            </Container>\r\n            <Container fluid={true} style={{ textAlign: \"left\", }}>\r\n            </Container>\r\n\r\n            <StoryGrid stories={this.props.stories}></StoryGrid>\r\n        </div>\r\n  }\r\n}\r\nexport default TagPage;","import \"./Footer.css\"\r\nimport React from 'react';\r\nimport { Author } from './model/Author';\r\nimport { Container } from 'react-bootstrap';\r\nimport { Link } from \"react-router-dom\";\r\n\r\ntype FooterProps = {\r\n    author: Author\r\n}\r\n\r\nexport function Footer(props: FooterProps) {\r\n    return <footer>\r\n        <Container fluid={true}>\r\n            <div className=\"footer-spacer\">\r\n            </div>\r\n            <p>© {new Date().getFullYear()} <Link to='/'>{props.author.name}</Link>\r\n                <br />\r\n        Leuven, Belgium</p>\r\n        </Container>\r\n    </footer>\r\n}","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\ntype ScrollToTopProps = {\r\n    location: any;\r\n}\r\nclass ScrollToTop extends React.Component<any, any> {\r\n    componentDidUpdate(props: ScrollToTopProps) {\r\n        if (this.props.location !== props.location) {\r\n            window.scrollTo(0, 0);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return this.props.children\r\n    }\r\n}\r\n\r\nexport default withRouter(ScrollToTop)","import React from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\";\r\nimport { HomePage } from './components/pages/home/HomePage';\r\nimport StoryPage from './components/pages/story/StoryPage';\r\nimport TagPage from './components/pages/tags/TagPage';\r\nimport './App.css';\r\nimport { Story, StoryIndex, getStoryID } from './components/model/Story';\r\nimport { downloadJSON } from \"./components/util/Utils\";\r\nimport { Author } from './components/model/Author';\r\nimport { Footer } from './components/Footer';\r\nimport { getLinkForTag, makeURL } from './components/util/URLUtils';\r\nimport ScrollToTop from \"./components/ScrollToTop\";\r\nimport { Container } from 'react-bootstrap';\r\n\r\ntype AppProps = {\r\n  author: Author;\r\n}\r\n\r\ntype AppState = {\r\n  hasFullyLoaded: boolean\r\n  stories: Story[]\r\n}\r\n\r\nclass App extends React.Component<AppProps, AppState> {\r\n\r\n  componentWillMount() {\r\n    this.setState({\r\n      hasFullyLoaded: false,\r\n      stories: []\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    downloadJSON(makeURL(\"stories/index.json\")).then(async (storyIndex: StoryIndex) => {\r\n      const stories = [];\r\n      for (let storyID of storyIndex.stories) {\r\n        const story = await downloadJSON(makeURL(`stories/${storyID}/index.json`));\r\n        stories.push(story);\r\n      }\r\n      this.setState({\r\n        hasFullyLoaded: true,\r\n        stories: stories\r\n      })\r\n    });\r\n  }\r\n\r\n  get storyRoutes() {\r\n    return this.state.stories.map((story: Story) => {\r\n      return <Route path={`/${getStoryID(story)}`}>\r\n        <ScrollToTop>\r\n          <StoryPage story={story} author={this.props.author}></StoryPage>\r\n        </ScrollToTop>\r\n\r\n      </Route>\r\n    });\r\n  }\r\n\r\n  get tagRoutes() {\r\n    const tags = this.state.stories.map((story: Story) => {\r\n      return story.tags || [];\r\n    }).flat();\r\n\r\n    return tags.map((tag: string) => {\r\n      const storiesWithTag = this.state.stories.filter((story: Story) => {\r\n        return story.tags?.includes(tag);\r\n      });\r\n      return <Route path={getLinkForTag(tag)}>\r\n        <ScrollToTop>\r\n          <TagPage tag={tag} stories={storiesWithTag}></TagPage>\r\n        </ScrollToTop>\r\n      </Route>\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.hasFullyLoaded) {\r\n      return <Container className=\"loadscreen\" fluid={true}>\r\n        <h1>Cleaning my lens...</h1>\r\n      </Container>;\r\n    }\r\n\r\n    let basename = \"/\";\r\n\r\n    if (process.env.NODE_ENV === \"production\") {\r\n      //basename = \"//sambenjamin.be/\";\r\n    }\r\n\r\n    const redirectParameter = new URLSearchParams(window.location.search).get(\"r\");\r\n    let redirecter;\r\n    if (redirectParameter) {\r\n      redirecter = <Redirect to={redirectParameter?.replace(\"/sambenjamin.be\", \"\")} />;\r\n    } else {\r\n      redirecter = <div></div>;\r\n    }\r\n\r\n    return (<Router basename={basename}>\r\n      {redirecter}\r\n      <div id=\"sambenjamin.be\">\r\n        <Switch>\r\n          {this.storyRoutes}\r\n          {this.tagRoutes}\r\n          <Route path=\"/\">\r\n            <ScrollToTop>\r\n              <HomePage stories={this.state.stories} author={this.props.author} />\r\n            </ScrollToTop>\r\n          </Route>\r\n        </Switch>\r\n        <Footer author={this.props.author}></Footer>\r\n      </div>\r\n    </Router>);\r\n  }\r\n}\r\n\r\nexport default App;","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport App from './App';\nimport { AUTHOR } from './components/model/Author';\nimport ReactGA from 'react-ga';\n\nif (process.env.NODE_ENV === 'production') {\n    ReactGA.initialize('UA-161391381-1');\n}\n\nReactDOM.render(\n    <App author={AUTHOR} />,\n    document.getElementById('root') as HTMLElement\n);","export type Author = {\r\n    name: string\r\n    url: string\r\n}\r\n\r\nexport const AUTHOR : Author = {\r\n    name: \"Sam Benjamin\",\r\n    url: \"https://instagram.com/samgielis\"\r\n}"],"sourceRoot":""}