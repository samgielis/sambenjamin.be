(this["webpackJsonpsambenjamin.be"]=this["webpackJsonpsambenjamin.be"]||[]).push([[0],{32:function(e,t,a){e.exports=a(54)},38:function(e,t,a){},41:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(24),r=a.n(n),o=a(0),s=a.n(o),i=a(19),l=a.n(i),c=a(25),u=a(4),m=a(5),h=a(10),p=a(9),d=a(11),f=a(15),v=a(8);function y(e){return E("does/".concat(e,"/"))}function E(e){return"https://samgielis.github.io/sambenjamin.be/"+e}function b(e){return e.title.split(" ").join("-").toLowerCase()}function g(e){return E("stories/".concat(b(e),"/cover.jpg"))}var j=a(55),w=a(56),k=a(57),N=(a(38),a(17));function O(e){return fetch(e).then((function(e){return e.json()}))}function x(e){N.a.pageview(e)}a(41);function S(e){var t=new Date(e.date);return s.a.createElement("div",{className:"story-date"},function(e){var t=[];return t[0]="January",t[1]="February",t[2]="March",t[3]="April",t[4]="May",t[5]="June",t[6]="July",t[7]="August",t[8]="September",t[9]="October",t[10]="November",t[11]="December",t[e.getMonth()]}(t)," ",t.getDate(),s.a.createElement("sup",null,function(e){var t=e.getDate();if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(t)),", ",s.a.createElement("span",null,t.getFullYear()))}function L(e,t){return e.date>t.date?-1:t.date>e.date?1:0}function R(e){for(var t=e.stories.sort(L).map((function(e,t){return s.a.createElement(U,{key:t,story:e})})),a=[],n=0;n<t.length;n+=3){var r=[];r.push(s.a.createElement(U,{key:n,story:e.stories[n]})),r.push(s.a.createElement(U,{key:n+1,story:e.stories[n+1]})),r.push(s.a.createElement(U,{key:n+2,story:e.stories[n+2]})),a.push(s.a.createElement(j.a,{key:n},r))}return s.a.createElement(w.a,{fluid:"md",style:{maxWidth:"1500px",alignSelf:"center",margin:"auto",padding:"1rem"}},a)}function U(e){return e.story?s.a.createElement(k.a,{md:4,className:"story-thumbnail-wrapper"},s.a.createElement("article",null,s.a.createElement(v.b,{to:"/".concat(b(e.story))},s.a.createElement("div",{className:"story-thumbnail"},s.a.createElement("div",{className:"story-thumbnail-image",style:{backgroundImage:"url(".concat(g(e.story),") ")}}),s.a.createElement("div",{className:"story-thumbnail-gradient"}),s.a.createElement("div",{className:"story-thumbnail-description"},s.a.createElement("h2",null,s.a.createElement(v.b,{to:"/".concat(b(e.story))},e.story.title)),s.a.createElement("h3",null,e.story.subTitle||"See more"),s.a.createElement(S,{date:e.story.date})))))):s.a.createElement(k.a,{md:4,className:"story-thumbnail-wrapper"},s.a.createElement("div",{className:"story-thumbnail empty"}))}a(45);var B=a(58),D=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){document.title="Home - sambenjamin.be",x(window.location.pathname+window.location.search)}},{key:"render",value:function(){return s.a.createElement("div",{className:"homepage"},s.a.createElement(w.a,{style:{textAlign:"center",padding:"1rem"}},s.a.createElement("p",null,s.a.createElement(v.b,{to:"/"},s.a.createElement("img",{width:"150px",alt:"Author portrait",src:E("profile.png")}))),s.a.createElement("h1",null,this.props.author.name),s.a.createElement(B.a,{href:this.props.author.url,variant:"outline-dark"},"Follow @samgielis")),s.a.createElement(R,{stories:this.props.stories}))}}]),t}(s.a.Component);a(46);function F(e){var t=[];return t.push(s.a.createElement("h1",null,e.story.title)),e.story.subTitle&&t.push(s.a.createElement("h2",null,e.story.subTitle)),e.story.instaHandle&&t.push(s.a.createElement(B.a,{variant:"outline-light",href:"https://instagram.com/".concat(e.story.instaHandle)},"@",e.story.instaHandle)),s.a.createElement("div",{className:"story-cover"},s.a.createElement(w.a,{className:"d-flex flex-column align-items-center "},s.a.createElement("div",{className:"cover-photo",style:{backgroundImage:'url("'.concat(g(e.story),'")')}}),s.a.createElement("div",{className:"story-title-wrapper align-self-center align-items-center"},t),s.a.createElement("div",{className:"author-details"},s.a.createElement("div",null,s.a.createElement("span",null,"By ",s.a.createElement(v.b,{className:"author-name",to:"/"},e.author.name))),s.a.createElement(S,{date:e.story.date}))))}a(47);var M=a(30),A=(a(48),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"loadImage",value:function(){var e=this;fetch(this.props.imageUrl).then((function(e){return e.arrayBuffer()})).then((function(t){try{var a,n,r,o,s=URL.createObjectURL(new Blob([t])),i=M.a.load(t);e.setState({imageBlobURL:s,focalLength:null===(a=i.FocalLength)||void 0===a?void 0:a.description,aperture:null===(n=i.ApertureValue)||void 0===n?void 0:n.description,shutterSpeed:null===(r=i.ShutterSpeedValue)||void 0===r?void 0:r.description,iso:null===(o=i.ISOSpeedRatings)||void 0===o?void 0:o.description})}catch(l){console.error("Error parsing "+e.props.imageUrl)}}))}},{key:"componentWillMount",value:function(){this.setState({}),this.loadImage()}},{key:"render",value:function(){var e;if(!this.state.imageBlobURL)return s.a.createElement("div",{style:{width:"100%",height:"500px",backgroundColor:"whitesmoke"}});var t=(null===(e=this.state.focalLength)||void 0===e?void 0:e.replace(/ /g,""))||"unknown",a=Number.parseFloat(this.state.aperture||"NaN");return s.a.createElement("div",{className:"photo-wrapper"},s.a.createElement("img",{src:this.state.imageBlobURL,alt:this.props.alt}),s.a.createElement("div",{className:"photo-details"},s.a.createElement("p",null,t," f/",a," ",this.state.shutterSpeed,"s ISO",this.state.iso)))}}]),t}(s.a.Component));function C(e){for(var t=e.story.photos,a=e.story.layout,n=[],r=0,o=0;r<a.length;r++){for(var i=a[r],l=[],c=0;c<i;c++,o++)l.push(s.a.createElement(k.a,{key:o,md:12/i},s.a.createElement(A,{imageUrl:E("stories/".concat(b(e.story),"/").concat(t[o].fileName)),alt:t[o].fileName})));var u=s.a.createElement(j.a,null,l);n.push(u)}return s.a.createElement(w.a,{fluid:!0,className:"photoset"},n)}a(49);function I(e){return s.a.createElement(w.a,{fluid:!0,className:"photoset tagset"},e.tags.map((function(e){return s.a.createElement(J,{value:e})})))}function J(e){return s.a.createElement(B.a,{className:"tag",variant:"secondary",href:y(e.value)},"#",e.value)}a(50);function H(e){return e.story.description?s.a.createElement(w.a,{className:"story-description"},s.a.createElement(j.a,null,s.a.createElement(k.a,{md:12},s.a.createElement("p",null,e.story.description)))):s.a.createElement("div",null)}var T=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){document.title="".concat(this.props.story.title," by ").concat(this.props.author.name," - sambenjamin.be"),x(window.location.pathname+window.location.search)}},{key:"render",value:function(){return s.a.createElement("div",{className:"story-page"},s.a.createElement(F,{story:this.props.story,author:this.props.author}),s.a.createElement(H,{story:this.props.story}),s.a.createElement(C,{story:this.props.story}),s.a.createElement(I,{tags:this.props.story.tags||[]}))}}]),t}(s.a.Component),W=a(31),V=(a(51),function(e){function t(e){var a;return Object(u.a)(this,t),a=Object(h.a)(this,Object(p.a)(t).call(this,e)),console.log("making tagpae"),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){document.title="Stories tagged #".concat(this.props.tag," - sambenjamin.be"),x(window.location.pathname+window.location.search)}},{key:"render",value:function(){return s.a.createElement("div",{className:"homepage"},s.a.createElement(w.a,{style:{textAlign:"center",padding:"1rem"}},s.a.createElement("h1",null,"#",this.props.tag),s.a.createElement("br",null),s.a.createElement("h4",null," ",s.a.createElement(v.b,{className:"go-home",to:"/"},s.a.createElement(W.a,null)," See more stories"))),s.a.createElement(w.a,{fluid:!0,style:{textAlign:"left"}}),s.a.createElement(R,{stories:this.props.stories}))}}]),t}(s.a.Component));a(52),a(53);function Y(e){return s.a.createElement("footer",null,s.a.createElement(w.a,{fluid:!0},s.a.createElement("div",{className:"footer-spacer"}),s.a.createElement("p",null,"\xa9 ",(new Date).getFullYear()," ",s.a.createElement("a",{href:"/"},e.author.name),s.a.createElement("br",null),"Leuven, Belgium")))}var z=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.setState({hasFullyLoaded:!1,stories:[]})}},{key:"componentDidMount",value:function(){var e=this;O(E("stories/index.json")).then(function(){var t=Object(c.a)(l.a.mark((function t(a){var n,r,o,s,i,c,u,m;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=!0,o=!1,s=void 0,t.prev=4,i=a.stories[Symbol.iterator]();case 6:if(r=(c=i.next()).done){t.next=15;break}return u=c.value,t.next=10,O(E("stories/".concat(u,"/index.json")));case 10:m=t.sent,n.push(m);case 12:r=!0,t.next=6;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(4),o=!0,s=t.t0;case 21:t.prev=21,t.prev=22,r||null==i.return||i.return();case 24:if(t.prev=24,!o){t.next=27;break}throw s;case 27:return t.finish(24);case 28:return t.finish(21);case 29:e.setState({hasFullyLoaded:!0,stories:n});case 30:case"end":return t.stop()}}),t,null,[[4,17,21,29],[22,,24,28]])})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){if(!this.state.hasFullyLoaded)return s.a.createElement("h1",null,"Getting ready....");var e="/";e="//samgielis.github.io/sambenjamin.be/";var t,a=new URLSearchParams(window.location.search).get("r");return t=a?s.a.createElement(f.a,{to:null===a||void 0===a?void 0:a.replace("/sambenjamin.be","")}):s.a.createElement("div",null),s.a.createElement(v.a,{basename:e},t,s.a.createElement("div",{id:"sambenjamin.be"},s.a.createElement(f.d,null,this.storyRoutes,this.tagRoutes,s.a.createElement(f.b,{path:"/"},s.a.createElement(D,{stories:this.state.stories,author:this.props.author}))),s.a.createElement(Y,{author:this.props.author})))}},{key:"storyRoutes",get:function(){var e=this;return this.state.stories.map((function(t){return s.a.createElement(f.b,{path:"/".concat(b(t))},s.a.createElement(T,{story:t,author:e.props.author}))}))}},{key:"tagRoutes",get:function(){var e=this;return this.state.stories.map((function(e){return e.tags||[]})).flat().map((function(t){var a=e.state.stories.filter((function(e){var a;return null===(a=e.tags)||void 0===a?void 0:a.includes(t)}));return s.a.createElement(f.b,{path:y(t)},s.a.createElement(V,{tag:t,stories:a}))}))}}]),t}(s.a.Component);N.a.initialize("UA-161391381-1"),r.a.render(s.a.createElement(z,{author:{name:"Sam Benjamin",url:"https://instagram.com/samgielis"}}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.4ab75800.chunk.js.map